<nav tuiNavigationNav class="sticky shrink-0">
  <span tuiNavigationLogo>
    <span tuiFade>{{ header }}</span>
  </span>
  <hr />
  <tui-tabs-with-more
    *ngIf="tabConnectors.length"
    [(activeItemIndex)]="activeItemIndex"
  >
    <ng-container
      *ngFor="let tab of tabConnectors; first as first; index as index"
    >
      <ng-container *ngIf="tab.uiPageTab || defaultTabs[index] as tabName">
        <a
          *tuiItem
          routerLinkActive
          tuiTab
          [routerLink]="first ? './' : (tabName | tuiReplace : from : to)"
          [routerLinkActiveOptions]="{ exact: first }"
        >
          {{ tabName }}
        </a>
      </ng-container>
    </ng-container>
  </tui-tabs-with-more>
  <ng-container *ngIf="actions" [ngTemplateOutlet]="actions.template" />
</nav>

<div class="grow py-4 flex flex-col overflow-hidden">
  <tui-scrollbar class="scrollbar">
    <div tuiFade="vertical" tuiScrollable class="content">
      <ng-content></ng-content>
    </div>
  </tui-scrollbar>
  <tui-scrollbar class="scrollbar h-full">
    <div tuiFade="vertical" tuiScrollable class="content">
      <ng-container *ngFor="let tab of tabConnectors; index as index">
        <ng-container
          *ngIf="index === activeItemIndex"
          [ngTemplateOutlet]="tab.template"
        />
      </ng-container>
    </div>
  </tui-scrollbar>

  <div *ngIf="details$ | async as item" @tuiHeightCollapse>
    <ng-container *polymorpheusOutlet="item.content; context: item" />
  </div>
</div>
