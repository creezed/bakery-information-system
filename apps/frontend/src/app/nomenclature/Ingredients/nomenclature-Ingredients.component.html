<ui-page header="Ингредиенты" *ngIf="ingredients$ | async as ingredients">
  <ng-template uiPageTab="Таблица">
    <ui-page-empty-guard
      [data]="ingredients"
      [isLoading]="!!(ingredientsLoading$ | async)"
      [buttonClick]="emptyStockHandler"
    >
      <ui-table
        [columns]="columns"
        [actions]="actions"
        [trackBy]="trackByRow"
      />
    </ui-page-empty-guard>

    <ng-template let-row #actions="polymorpheus" [polymorpheus]="rowContext">
      <button
        tuiIconButton
        type="button"
        [icon]="toEditCommand.appearance.icon"
        appearance="flat"
        size="s"
        shape="rounded"
        (click)="toEditCommand.execute(row)"
      ></button>
      <button
        tuiIconButton
        type="button"
        [icon]="deleteCommand.appearance.icon"
        appearance="flat"
        size="s"
        shape="rounded"
        (click)="deleteCommand.execute(row)"
      ></button>
    </ng-template>
  </ng-template>

  <ng-template uiPageActions>
    <button
      tuiIconButton
      type="button"
      [icon]="toCreate.appearance.icon"
      appearance="flat"
      size="s"
      shape="rounded"
      (click)="toCreate.execute()"
    ></button>
  </ng-template>
</ui-page>
